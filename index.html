<!DOCTYPE html>
<html lang="pt-br">
  <head>
    <meta charset="UTF-8" />
    <title>Teste Supabase</title>
  </head>
  <body>
    <h1>Verifique o Console do Navegador (F12)</h1>
    <p>Se aparecer o nome da loja lá, a conexão funcionou!</p>

    <script type="module">
      import { supabase } from './supabaseClient.js'

      async function testarConexao() {
        console.log("Tentando conectar ao Supabase...")

        // Tenta buscar a loja que criamos no SQL
        const { data, error } = await supabase
          .from('stores')
          .select('*')

        if (error) {
          console.error("❌ Erro:", error.message)
          document.body.innerHTML += `<p style="color:red">Erro: ${error.message}</p>`
        } else {
          console.log("✅ Sucesso! Dados recebidos:", data)
          document.body.innerHTML += `<p style="color:green">Sucesso! Loja encontrada: <strong>${data[0]?.name}</strong></p>`
        }
      }

      testarConexao()
    </script>
  </body>
</html>